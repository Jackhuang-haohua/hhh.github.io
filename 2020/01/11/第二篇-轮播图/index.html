<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/hhh.github.io/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/hhh.github.io/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/hhh.github.io/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/hhh.github.io/images/logo.svg" color="#222">

<link rel="stylesheet" href="/hhh.github.io/css/main.css">


<link rel="stylesheet" href="/hhh.github.io/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://github.com/Jackhuang-haohua/hhh.github.io').hostname,
    root: '/hhh.github.io/',
    scheme: 'Gemini',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"default"},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: true,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="利用Js基础知识做出轮播图">
<meta property="og:type" content="article">
<meta property="og:title" content="使用JavaScript循序渐进地写出轮播图">
<meta property="og:url" content="https://github.com/Jackhuang-haohua/hhh.github.io/2020/01/11/%E7%AC%AC%E4%BA%8C%E7%AF%87-%E8%BD%AE%E6%92%AD%E5%9B%BE/index.html">
<meta property="og:site_name" content="浩华好哇的小站">
<meta property="og:description" content="利用Js基础知识做出轮播图">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/12/lT61KO.gif">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/12/lT2C8I.png">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/13/l7PNut.gif">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/13/lTjbR0.png">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/13/l7Ps3j.gif">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/13/l7Z3ZR.png">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/13/l7JaND.png">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/13/l782sP.gif">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/13/l7HzA1.png">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/13/l7OmNR.gif">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/13/lH6cid.gif">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/13/lH2qWd.jpg">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/13/lHLVCq.gif">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/13/lHX4Cn.gif">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/13/lbP1CF.gif">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/14/lbIJqs.gif">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/14/lq93tO.gif">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/14/lqNbkt.png">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/14/lqU04P.png">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/14/lq0zod.png">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/14/lqsqtH.gif">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/14/lq7h36.png">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/14/lqqGnO.gif">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/14/lLSr7V.gif">
<meta property="og:image" content="https://s2.ax1x.com/2020/01/14/lL9IJO.png">
<meta property="article:published_time" content="2020-01-11T11:37:43.000Z">
<meta property="article:modified_time" content="2020-01-14T13:46:09.362Z">
<meta property="article:author" content="浩华好哇">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.ax1x.com/2020/01/12/lT61KO.gif">

<link rel="canonical" href="https://github.com/Jackhuang-haohua/hhh.github.io/2020/01/11/%E7%AC%AC%E4%BA%8C%E7%AF%87-%E8%BD%AE%E6%92%AD%E5%9B%BE/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>使用JavaScript循序渐进地写出轮播图 | 浩华好哇的小站</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>


  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">
<link rel="alternate" href="/hhh.github.io/atom.xml" title="浩华好哇的小站" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/hhh.github.io/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">浩华好哇的小站</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/hhh.github.io/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tools">

    <a href="/hhh.github.io/tools/" rel="section"><i class="fa fa-fw fa-briefcase"></i>工具</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/hhh.github.io/categories/" rel="section"><i class="fa fa-fw fa-list"></i>分类</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/hhh.github.io/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://github.com/Jackhuang-haohua/hhh.github.io/2020/01/11/%E7%AC%AC%E4%BA%8C%E7%AF%87-%E8%BD%AE%E6%92%AD%E5%9B%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/hhh.github.io/images/%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="浩华好哇">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩华好哇的小站">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          使用JavaScript循序渐进地写出轮播图
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-01-11 19:37:43" itemprop="dateCreated datePublished" datetime="2020-01-11T19:37:43+08:00">2020-01-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-01-14 21:46:09" itemprop="dateModified" datetime="2020-01-14T21:46:09+08:00">2020-01-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/hhh.github.io/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>31k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>57 分钟</span>
            </span>
            <div class="post-description">利用Js基础知识做出轮播图</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="一、前言"><a href="#一、前言" class="headerlink" title="一、前言"></a>一、前言</h2><blockquote>
<p>几乎所有的网站都会用到轮播图，虽然现在使用框架生成轮播图十分简单，但基本原理还是要懂哒！</p>
</blockquote>
<h2 id="二、直接切换的轮播图"><a href="#二、直接切换的轮播图" class="headerlink" title="二、直接切换的轮播图"></a>二、直接切换的轮播图</h2><p><font size=4><strong>特点：</strong></font></p>
<ul>
<li>使用DOM操作节点</li>
<li>直接改变图片路径</li>
<li>使用定时器<code>setInterval()</code>，每隔一段时间改变图片的引用路径<code>src=&quot;images/pic1.jpg&quot;</code>，当图片播到最后一张时，再换成第一张即可；<br><font size=4><strong>示例代码：</strong></font></li>
</ul>
<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- css部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span> &#123;</span></span><br><span class="line">            width: 500px;</span><br><span class="line">            height: 280px;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">            width: 500px;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- html部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- JavaScript部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> index = <span class="number">0</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// setInterval(函数名,时间)</span></span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">fun</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line">            index++;</span><br><span class="line"><span class="actionscript">            <span class="comment">// 因为图片只有5张，所以当index&gt; 5的时候，应该切换到第一张，那么index = 1</span></span></span><br><span class="line">            if (index &gt; 5) &#123;</span><br><span class="line">                index = 1;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="actionscript">            img.src = <span class="string">'images/pic'</span> + index + <span class="string">'.jpg'</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> timer = setInterval(fun, <span class="number">1000</span>);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></div>

<p><font size=3><strong>效果图：</strong></font><br><img src="https://s2.ax1x.com/2020/01/12/lT61KO.gif" alt="lT61KO.gif"></p>
<h2 id="三、改变left值的轮播图"><a href="#三、改变left值的轮播图" class="headerlink" title="三、改变left值的轮播图"></a>三、改变left值的轮播图</h2><p><font size=4><strong>特点：</strong></font></p>
<ul>
<li>把图片都装在一个大盒子里，通过定时改变大盒子（ul）的<code>margin-left</code>来实现切换</li>
<li>给大盒子（ul）设置css样式<code>transition</code>，来增加切换过渡</li>
<li>同样的，当图片播到最后一张时，再换成第一张即可；</li>
<li>在上面改变路径的方法中，因为图片的名字为1-5，所以index&gt;5时就另其等于1；但是在接下来的方法中，margin-left=4*500px，即index=4时，就已经是最后一张图了，所以index&gt;=5时另其等于1；</li>
<li>如下图，绿色框是可视区域，红色框是装着图片的li，黄色框是装着li的ul</li>
</ul>
<p><img src="https://s2.ax1x.com/2020/01/12/lT2C8I.png" alt="lT2C8I.png"><br><font size=4><strong>示例代码：</strong></font></p>
<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- css部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">            list-style: none;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span> &#123;</span></span><br><span class="line">            width: 500px;</span><br><span class="line">            height: 280px;</span><br><span class="line">            position: relative;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span> <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="comment">/* 因为是5张图，所以大盒子的宽度为500px*5 */</span></span></span><br><span class="line">            width: 2500px;</span><br><span class="line">            position: absolute;</span><br><span class="line"><span class="css">            <span class="selector-tag">transition</span>: 0<span class="selector-class">.5s</span>;</span></span><br><span class="line">            margin-left: 0px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span> <span class="selector-tag">ul</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">            width: 500px;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- html部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"ul"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic2.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic3.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic4.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic5.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- JavaScript部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> index = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ul = <span class="built_in">document</span>.getElementById(<span class="string">'ul'</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">fun</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line">            index++;</span><br><span class="line"><span class="actionscript">            <span class="comment">// 因为图片只有5张，所以当index &gt;= 5的时候，应该切换到第一张，那么index = 1</span></span></span><br><span class="line">            if (index &gt;= 5) &#123;</span><br><span class="line">                index = 0;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="actionscript">            ul.style.marginLeft = index * <span class="number">-500</span> + <span class="string">'px'</span></span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> timer = setInterval(fun, <span class="number">1000</span>);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></div>
<p><font size=3><strong>效果图：</strong></font><br><img src="https://s2.ax1x.com/2020/01/13/l7PNut.gif" alt="l7PNut.gif"><br>看起来还行，但是我们随便打开一个有轮播图网站，就会发现图片都是一直向右或者向左播放，该怎么办呢？</p>
<h3 id="轮播图的基本原理"><a href="#轮播图的基本原理" class="headerlink" title="轮播图的基本原理"></a>轮播图的基本原理</h3><ul>
<li>相比上面的结构，复制了第一张图放到最后</li>
<li>当从最后一张转到第一张时，大盒子（ul）的css样式<code>transition</code>设置为0s</li>
</ul>
<p><img src="https://s2.ax1x.com/2020/01/13/lTjbR0.png" alt="lTjbR0.png"></p>
<p><font size=4><strong>示例代码：</strong></font></p>
<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- css部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">            list-style: none;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span> &#123;</span></span><br><span class="line">            width: 500px;</span><br><span class="line">            height: 280px;</span><br><span class="line">            position: relative;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span> <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="comment">/* 因为是5张图，所以大盒子的宽度为500px*6 */</span></span></span><br><span class="line">            width: 3000px;</span><br><span class="line">            position: absolute;</span><br><span class="line">            margin-left: 0px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span> <span class="selector-tag">ul</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">            width: 500px;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- html部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bor"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"ul"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic2.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic3.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic4.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic5.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- JavaScript部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> index = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ul = <span class="built_in">document</span>.getElementById(<span class="string">'ul'</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">fun</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 添加过渡时间</span></span></span><br><span class="line"><span class="actionscript">            ul.style.transition = <span class="number">0.5</span> + <span class="string">'s'</span>;</span></span><br><span class="line">            index++;</span><br><span class="line"><span class="actionscript">            <span class="comment">// 因为图片有6张，所以当index &gt;= 6的时候，应该切换到第一张，那么index = 1</span></span></span><br><span class="line">            if (index &gt;= 6) &#123;</span><br><span class="line">                index = 0;</span><br><span class="line"><span class="actionscript">                <span class="comment">// 清除过渡时间</span></span></span><br><span class="line"><span class="actionscript">                ul.style.transition = <span class="number">0</span> + <span class="string">'s'</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="actionscript">            ul.style.marginLeft = index * <span class="number">-500</span> + <span class="string">'px'</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> timer = setInterval(fun, <span class="number">1000</span>);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></div>
<p><font size=3><strong>效果图：</strong></font><br><img src="https://s2.ax1x.com/2020/01/13/l7Ps3j.gif" alt="l7Ps3j.gif"><br>效果是有了(⊙o⊙)，但还有一个缺点：从最后一张到第一张时（两张图长一样），定时器调用了两次，所以停顿的时间也是两倍，还不够流畅；</p>
<h2 id="四、使用动画函数的轮播图"><a href="#四、使用动画函数的轮播图" class="headerlink" title="四、使用动画函数的轮播图"></a>四、使用动画函数的轮播图</h2><p>接下来，我们不使用改变<code>margin-left</code>，设置<code>transition</code>的方法了，而是使用动画函数来让大盒子动起来，在此之前，我们先来了解一下“动画函数”；</p>
<h3 id="JS中的动画函数"><a href="#JS中的动画函数" class="headerlink" title="JS中的动画函数"></a>JS中的动画函数</h3><p><img src="https://s2.ax1x.com/2020/01/13/l7Z3ZR.png" alt="l7Z3ZR.png"><br>看到这些图，有没有很熟悉？没错，在css的动画animation中出现过，</p>
<blockquote>
<p>css动画一般用来实现比较简单的“一次性转换”，例如导航栏菜单的侧面引入，模太框的弹出等。但要实现高级效果时，例如弹跳，加速，减速等比较复杂的动画，则需要使用Javascript动画。现在的JS动画框架非常多，例如<a href="https://github.com/julianshapiro/velocity" target="_blank">Velocity</a>,<a href="https://github.com/mrdoob/three.js/" target="_blank">Three.js</a>,<a href="https://github.com/juliangarnier/anime" target="_blank">Anime.js</a>等，</p>
</blockquote>
<p>感兴趣的可以去<a href="https://www.zhangxinxu.com/study/201612/how-to-use-tween-js.html" target="_blank">张鑫旭大佬的博客</a>看看</p>
<h4 id="匀速运动函数"><a href="#匀速运动函数" class="headerlink" title="匀速运动函数"></a>匀速运动函数</h4><p>我们可以思考一下，如何使用JavaScript让物体动起来，并且是匀速运动呢？<br>css中有<code>transition</code>属性，相当于给了物体一个速度函数（就是上图的曲线）；而在Js中，我可以使用定时器<code>setInterval</code>，实现动画的原理类似于关键帧，<br>大家应该都听说过“24格电影”，即电影每一秒的画面是由24张图片组成，又因为人眼的视觉残留，就形成了连续的画面，<br>所以，我们需要把一大段距离分成24块，每1/24秒移动一块，这样就形成了动画效果，<br>当然，这个值不一定是“24”，就像在电影中，帧数低可以做成定格，帧数高可以是慢镜头。</p>
<p><font size=4><strong>匀速运动函数特点：</strong></font></p>
<ul>
<li>step为“步子”，即每15毫秒，盒子向右移动5px，直到600px为止</li>
<li>current为“当前”，即盒子的当前位置，每15毫秒增加5px</li>
<li>事件一开始马上清除定时器，如果不清除，相当于每点击一次，就调用一次定时器，盒子移动速度会越来越快</li>
</ul>
<p><img src="https://s2.ax1x.com/2020/01/13/l7JaND.png" alt="l7JaND.png"><br><font size=4><strong>示例代码：</strong></font></p>
<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- css部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> &#123;</span></span><br><span class="line">            width: 100px;</span><br><span class="line">            height: 100px;</span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#58bc58</span>;</span></span><br><span class="line">            position: absolute;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- html部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- JavaScript部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">'btn'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> timer = <span class="literal">null</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        btn.onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"></span><br><span class="line">            /*事件一开始马上清除定时器，</span><br><span class="line">            如果不清除，相当于每点击一次，就调用一次定时器，盒子移动速度就会越来越快的效果*/</span><br><span class="line">            clearInterval(timer);</span><br><span class="line"><span class="actionscript">            timer = setInterval(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">                <span class="comment">// step（步子），即每一步要移动的距离</span></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> step = <span class="number">5</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">                <span class="comment">// 定义一个当前位置 current</span></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> current = box.offsetLeft;</span></span><br><span class="line">                /*</span><br><span class="line">                    当盒子还没到达目的地（600px），执行定时器</span><br><span class="line">                    达到目的地后，清除定时器让盒子停下来</span><br><span class="line">                */</span><br><span class="line">                if (current &lt; 600) &#123;</span><br><span class="line"><span class="actionscript">                    <span class="comment">// 每次执行定时器，让盒子从当前位置（current）移动一步（step）的距离</span></span></span><br><span class="line">                    current = current + step;</span><br><span class="line"><span class="actionscript">                    <span class="comment">// 将距离赋值给box</span></span></span><br><span class="line"><span class="actionscript">                    box.style.left = current + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="actionscript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line">                    clearInterval(timer);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, 15);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></div>
<p><font size=3><strong>效果图：</strong></font><br><img src="https://s2.ax1x.com/2020/01/13/l782sP.gif" alt="l782sP.gif"></p>
<p>既然是一个函数，为了使用方便就需要封装起来，我们把这个函数优化后封装起来，</p>
<p><font size=4><strong>完整的匀速运动函数：</strong></font></p>
<ul>
<li>其他特征与前面函数的相同</li>
<li>target为“目标”，即最后的目的地，类似于盒子的<code>offsetLeft</code>，以左边框为基准线</li>
<li>正负的判断：<br>假如我们现在已经到100px的位置了，而目标距离变成50px，我们就需要把step设置为负数，即往回走</li>
<li>最后的距离：<br>我们需要在最后进行一个判断，当“现在的距离”离“目标距离”还差一步多一丢丢，我们就走出这一步，再把“现在的距离”直接设置为“目标距离”，<br>比如目标是100px，我们现在到88px了，而一步只能走11px，我们就再走一步达到99px，最后1px咱不走了，直接开挂瞬移过去</li>
</ul>
<p><img src="https://s2.ax1x.com/2020/01/13/l7HzA1.png" alt="l7HzA1.png"><br><font size=4><strong>示例代码：</strong></font></p>
<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    /* css部分 */</span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> &#123;</span></span><br><span class="line">            width: 100px;</span><br><span class="line">            height: 100px;</span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#58bc58</span>;</span></span><br><span class="line">            position: absolute;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- html 部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn1"</span>&gt;</span>移动至600<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn2"</span>&gt;</span>移动至900<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- js 部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> btn1 = <span class="built_in">document</span>.getElementById(<span class="string">'btn1'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> btn2 = <span class="built_in">document</span>.getElementById(<span class="string">'btn2'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">animate</span><span class="params">(element, target, num)</span> </span>&#123;</span></span><br><span class="line">            clearInterval(element.timer);</span><br><span class="line"><span class="actionscript">            element.timer = setInterval(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> current = element.offsetLeft;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 判断每次走的距离，当目标距离大于当前位置，step为正，否则为负</span></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> step = target &gt; current ? num : -num;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 此时的距离-目标距离的差的绝对值</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> distance = <span class="built_in">Math</span>.abs(target - current);</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 如果差大于或者等于一步的距离step的时候，就继续走</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (distance &gt;= <span class="built_in">Math</span>.abs(step)) &#123;</span></span><br><span class="line">                    current = current + step;</span><br><span class="line"><span class="actionscript">                    element.style.left = current + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="actionscript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 如果差小于一步的距离step的时候，就停止，并且将最后的距离设置为target的距离</span></span></span><br><span class="line">                    clearInterval(element.timer);</span><br><span class="line"><span class="actionscript">                    element.style.left = target + <span class="string">"px"</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, 15);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"><span class="actionscript">        btn1.onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">            animate(box, 300, 9);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        btn2.onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">            animate(box, 600, 5);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></div>
<p><font size=3><strong>效果图：</strong></font></p>
<p><img src="https://s2.ax1x.com/2020/01/13/l7OmNR.gif" alt="l7OmNR.gif"><br><code>animate(element, target, num)</code>函数封装完成了，其中有三个变量：</p>
<ul>
<li><code>element</code>是需要运动的元素</li>
<li><code>target</code>是目的地</li>
<li><code>num</code>是step（步子）</li>
</ul>
<p>从案例中可以发现，“移动至300”时的step=9，比后面的“移动至600”的step=5大，所以速度也更快；接下来我们就用这个函数来试试吧！</p>
<p><font size=4><strong>示例代码：</strong></font></p>
<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    /* css部分 */</span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">            list-style: none;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span> &#123;</span></span><br><span class="line">            width: 500px;</span><br><span class="line">            height: 280px;</span><br><span class="line">            position: relative;</span><br><span class="line">            overflow: hidden;</span><br><span class="line"></span><br><span class="line">            margin: 200px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span> <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="comment">/* 因为是5张图，所以大盒子的宽度为500px*6 */</span></span></span><br><span class="line">            width: 3000px;</span><br><span class="line">            position: absolute;</span><br><span class="line">            margin-left: 0px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span> <span class="selector-tag">ul</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">            width: 500px;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- html部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"ul"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic2.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic3.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic4.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic5.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- JavaScript部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ul = <span class="built_in">document</span>.getElementById(<span class="string">"ul"</span>)</span></span><br><span class="line">        animate(ul, -2500, 6)</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">animate</span><span class="params">(element, target, num)</span> </span>&#123;</span></span><br><span class="line">            clearInterval(element.timer);</span><br><span class="line"><span class="actionscript">            element.timer = setInterval(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> current = element.offsetLeft;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 判断每次走的距离，当目标距离大于当前位置，step为正，否则为负</span></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> step = target &gt; current ? num : -num;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 此时的距离-目标距离的差的绝对值</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> distance = <span class="built_in">Math</span>.abs(target - current);</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 如果差大于或者等于一步的距离step的时候，就继续走</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (distance &gt;= <span class="built_in">Math</span>.abs(step)) &#123;</span></span><br><span class="line">                    current = current + step;</span><br><span class="line"><span class="actionscript">                    element.style.left = current + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="actionscript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 如果差小于一步的距离step的时候，说明播到最后一张图了，这时候把left值重置</span></span></span><br><span class="line"><span class="actionscript">                    element.style.left = <span class="number">0</span> + <span class="string">"px"</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, 15);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></div>
<p><font size=3><strong>效果图：</strong></font></p>
<p><img src="https://s2.ax1x.com/2020/01/13/lH6cid.gif" alt="lH6cid.gif"><br>哇哦，如丝般顺滑，并且我们只用了两行代码！！（把动画函数放到常用函数js文件里的话）。<br>有一点需要注意，动画函数应用这类轮播图上时，最后一行改成了<code>element.style.left = 0 + &quot;px&quot;</code>（后面就不需要了，因为图片不会是匀速运动），即播到最后一张图时重置left值，此时因为<code>ul:transition</code>一直为0，所以图片不会有倒放的动画；<br>另外，因为step=6，所以实际上ul的终点为-2496px而不是-2500px，但你们人类是无法察觉到这15毫秒4px的区别哒！</p>
<p><img src="https://s2.ax1x.com/2020/01/13/lH2qWd.jpg" alt="lH2qWd.jpg"><br>但是网站上的轮播图，不会一直播放，而是会有停顿，一般还会有左右切换按钮，和下面一排切换小圆点，接下来我们把这两个功能也实现了。注意最后一行要改回来。</p>
<p><font size=4><strong>完整的匀速运动函数：</strong></font></p>
<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVASCRIPT"><figure class="iseeu highlight /javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">element, target, num</span>) </span>&#123;</span><br><span class="line">    clearInterval(element.timer);</span><br><span class="line"></span><br><span class="line">    element.timer = setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> leader = element.offsetLeft;</span><br><span class="line">        <span class="keyword">var</span> step = target &gt; leader ? num : -num;</span><br><span class="line">        <span class="keyword">var</span> distance = <span class="built_in">Math</span>.abs(target - leader);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (distance &gt;= <span class="built_in">Math</span>.abs(step)) &#123;</span><br><span class="line">            leader = leader + step;</span><br><span class="line">            element.style.left = leader + <span class="string">"px"</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            clearInterval(element.timer);</span><br><span class="line">            element.style.left = target + <span class="string">"px"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">15</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h2 id="五、左右切换的轮播图"><a href="#五、左右切换的轮播图" class="headerlink" title="五、左右切换的轮播图"></a>五、左右切换的轮播图</h2><p><font size=4><strong>特点：</strong></font></p>
<ul>
<li>点击箭头切换图片</li>
<li><code>js/utils.js</code>里面装的是<code>animate()</code>函数</li>
<li>这里<code>animate()</code>函数仅用来使ul移动，类似于之前<code>margin-left</code>的作用</li>
<li><code>&amp;lt;</code>（&lt;）和<code>&amp;gt;</code>（&gt;）是HTML Character Entities（HTML字符实体），之前在<a href="https://stackoverflow.com/questions/5068951/what-do-lt-and-gt-stand-for" target="_blank">stackOverflow</a>看到后就把样式一起记下来了，后来查找<a href="https://www.w3schools.com/HTML/html_entities.asp" target="_blank" rel="noopener">w3scchools</a>，是这么解释的：</li>
</ul>
<blockquote>
<p>Some characters are reserved in HTML.<br>If you use the less than (&lt;) or greater than (&gt;) signs in your text, the browser might mix them with tags.<br>Character entities are used to display reserved characters in HTML.</p>
</blockquote>
<p>类似的还有：</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>描述</th>
<th align="right">字符名称</th>
<th align="center">字符序号</th>
</tr>
</thead>
<tbody><tr>
<td>‘空格’</td>
<td>non-breaking space</td>
<td align="right">&amp;nbsp;</td>
<td align="center">&amp;#160;</td>
</tr>
<tr>
<td>&lt;</td>
<td>less than</td>
<td align="right">&amp;lt;</td>
<td align="center">&amp;#60;</td>
</tr>
<tr>
<td>&gt;</td>
<td>greater than</td>
<td align="right">&amp;gt;</td>
<td align="center">&amp;#62;</td>
</tr>
<tr>
<td>&amp;</td>
<td>ampersand</td>
<td align="right">&amp;amp;</td>
<td align="center">&amp;#38;</td>
</tr>
<tr>
<td>“</td>
<td>double quotation mark</td>
<td align="right">&amp;quot;</td>
<td align="center">&amp;#34;</td>
</tr>
<tr>
<td>‘</td>
<td>single quotation mark (apostrophe)</td>
<td align="right">&amp;apos;</td>
<td align="center">&amp;#39;</td>
</tr>
<tr>
<td>¥</td>
<td>yen</td>
<td align="right">&amp;yen;</td>
<td align="center">&amp;#165;</td>
</tr>
<tr>
<td>©</td>
<td>copyright</td>
<td align="right">&amp;copy;</td>
<td align="center">&amp;#169;</td>
</tr>
<tr>
<td>®</td>
<td>registered trademark</td>
<td align="right">&amp;reg;</td>
<td align="center">&amp;#174;</td>
</tr>
</tbody></table>
<p><font size=4><strong>示例代码：</strong></font></p>
<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 样式部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">            list-style: none;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> &#123;</span></span><br><span class="line">            width: 500px;</span><br><span class="line">            height: 280px;</span><br><span class="line">            position: relative;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">            margin: 200px auto;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line">            width: 3000px;</span><br><span class="line">            position: absolute;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-tag">ul</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">            display: block;</span><br><span class="line">            width: 500px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#arrow</span> &#123;</span></span><br><span class="line">            display: none;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#arrow</span> <span class="selector-id">#leftTap</span>,</span></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#arrow</span> <span class="selector-id">#rightTap</span> &#123;</span></span><br><span class="line">            width: 30px;</span><br><span class="line">            height: 60px;</span><br><span class="line">            position: absolute;</span><br><span class="line">            top: 50%;</span><br><span class="line">            transform: translateY(-50%);</span><br><span class="line">            text-decoration: none;</span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-tag">rgba</span>(255, 255, 2550, 0<span class="selector-class">.3</span>);</span></span><br><span class="line"><span class="css">            <span class="comment">/* 设置左右箭头，在其它地方看到的 */</span></span></span><br><span class="line">            text-align: center;</span><br><span class="line">            font: 700 24px/60px "宋体";</span><br><span class="line">            cursor: pointer;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#arrow</span> <span class="selector-id">#leftTap</span> &#123;</span></span><br><span class="line">            left: 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#arrow</span> <span class="selector-id">#rightTap</span> &#123;</span></span><br><span class="line">            right: 0;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- html 部分--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"ul"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic2.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic3.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic4.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic5.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"arrow"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"leftTap"</span>&gt;</span><span class="symbol">&amp;lt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"rightTap"</span>&gt;</span><span class="symbol">&amp;gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- js 部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/utils.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 获取元素</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ul = <span class="built_in">document</span>.getElementById(<span class="string">'ul'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> li = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'li'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> arrow = <span class="built_in">document</span>.getElementById(<span class="string">'arrow'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> leftArr = <span class="built_in">document</span>.getElementById(<span class="string">"leftTap"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> rightArr = <span class="built_in">document</span>.getElementById(<span class="string">"rightTap"</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 获取图片的宽度</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> picWidth = box.offsetWidth;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// 给box绑定鼠标事件，经过时显示箭头，移开时隐藏箭头</span></span></span><br><span class="line"><span class="actionscript">        box.onmouseover = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            arrow.style.display = <span class="string">"block"</span>;</span></span><br><span class="line">        &#125;;</span><br><span class="line"><span class="actionscript">        box.onmouseout = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            arrow.style.display = <span class="string">"none"</span>;</span></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> index = <span class="number">0</span>;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 点击右箭头时，</span></span></span><br><span class="line"><span class="actionscript">        rightTap.onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 当向右移动到最后一张时，换成第一张</span></span></span><br><span class="line">            if (index == li.length - 1) &#123;</span><br><span class="line">                index = 0;</span><br><span class="line">                ul.style.left = 0;</span><br><span class="line">            &#125;</span><br><span class="line">            index++;</span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> target = -index * picWidth;</span></span><br><span class="line">            animate(ul, target, 30);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="actionscript">        leftTap.onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 当向左移动到第一张时，换成最后一张张</span></span></span><br><span class="line">            if (index == 0) &#123;</span><br><span class="line">                index = li.length - 1;</span><br><span class="line"><span class="actionscript">                ul.style.left = -index * picWidth + <span class="string">"px"</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">            index--;</span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> target = -index * picWidth;</span></span><br><span class="line">            animate(ul, target, 30);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></div>
<p><font size=3><strong>效果图：</strong></font></p>
<p><img src="https://s2.ax1x.com/2020/01/13/lHLVCq.gif" alt="lHLVCq.gif"></p>
<p>这样一个可以左右流畅切换的轮播图就完成了，我们直接在最后加上三行代码：<br><code>timer = setInterval(function () {
            rightTap.onclick();
        }, 1000);</code><br>另其隔一段时间点击一次按钮，就实现自动切换了，把<code>rightTap</code>换成<code>leftTap</code>即可以向左切换；<br>下面的图箭头还在，只是隐藏了：<br><font size=3><strong>效果图：</strong></font></p>
<p><img src="https://s2.ax1x.com/2020/01/13/lHX4Cn.gif" alt="lHX4Cn.gif"></p>
<h2 id="六、小圆点切换的轮播图"><a href="#六、小圆点切换的轮播图" class="headerlink" title="六、小圆点切换的轮播图"></a>六、小圆点切换的轮播图</h2><p><font size=4><strong>特点：</strong></font></p>
<ul>
<li>循环遍历小圆点并取得其索引值，大盒子根据这个索引值来移动</li>
<li>点击小圆点时，利用排他思想改变样式</li>
</ul>
<p><font size=4><strong>示例代码：</strong></font></p>
<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">            list-style: none;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> &#123;</span></span><br><span class="line">            width: 500px;</span><br><span class="line">            height: 280px;</span><br><span class="line">            position: relative;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">            margin: 200px auto;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#ul</span> &#123;</span></span><br><span class="line">            width: 3000px;</span><br><span class="line">            position: absolute;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#ul</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">            display: block;</span><br><span class="line">            width: 500px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="comment">/* 小圆点的样式 */</span></span></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#ul2</span> &#123;</span></span><br><span class="line">            width: 100px;</span><br><span class="line"><span class="css">            <span class="comment">/* 另装点小点的大盒子居中 */</span></span></span><br><span class="line">            position: absolute;</span><br><span class="line">            bottom: 14px;</span><br><span class="line">            left: 50%;</span><br><span class="line">            margin-left: -50px;</span><br><span class="line"><span class="css">            <span class="comment">/* 另小圆点横向排列并居中 */</span></span></span><br><span class="line">            display: grid;</span><br><span class="line">            grid-template-columns: repeat(5, 20%);</span><br><span class="line">            place-items: center;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#ul2</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line">            width: 10px;</span><br><span class="line">            height: 10px;</span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">            border-radius: 50%;</span><br><span class="line">            cursor: pointer;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#ul2</span> <span class="selector-tag">li</span><span class="selector-class">.active</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#58bc58</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- html 部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"ul"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic2.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic3.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic4.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic5.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"ul2"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"active"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- js 部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/utils.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ul = <span class="built_in">document</span>.getElementById(<span class="string">'ul'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ul2 = <span class="built_in">document</span>.getElementById(<span class="string">'ul2'</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// lis为下面的小圆点</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> lis = ul2.children;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> picWidth = box.offsetWidth;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 循环遍历小圆点并取得其索引值</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.length; i++) &#123;</span></span><br><span class="line">            lis[i].index = i;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 当点击小圆点时，利用排他思想增加样式</span></span></span><br><span class="line"><span class="actionscript">            lis[i].onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 所有小圆点样式清空</span></span></span><br><span class="line"><span class="actionscript">                    lis[i].className = <span class="string">""</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="actionscript">                <span class="comment">// 点击的小圆点单独加上样式</span></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.className = <span class="string">"active"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">                <span class="comment">// 大盒子根据索引值来移动</span></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> target = -<span class="keyword">this</span>.index * picWidth;</span></span><br><span class="line">                animate(ul, target, 40);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></div>

<p><font size=3><strong>效果图：</strong></font></p>
<p><img src="https://s2.ax1x.com/2020/01/13/lbP1CF.gif" alt="lbP1CF.gif"></p>
<h2 id="七、完整版轮播图"><a href="#七、完整版轮播图" class="headerlink" title="七、完整版轮播图"></a>七、完整版轮播图</h2><h4 id="特点："><a href="#特点：" class="headerlink" title="特点："></a>特点：</h4><ul>
<li><p>综合小圆点轮播和左右切换轮播图，基本上就是把代码整合在一起，但是还有几个bug需要解决</p>
</li>
<li><p>bug1：当轮播了一圈回到第一张时，点击第一个小圆点，会反方向轮播一圈。<br>原因：轮播了一圈回到第一张时，点开控制台查看<code>ul:margin-left</code>，会发现还是-2500px而不是0px，显示的其实是最后一张图（第一张图的克隆），此时点击第一个小圆点，会从最后一张（第一张的克隆）回到第一张；<br>对应下面示例代码的145-148行，删掉之后就会出现bug：</p>
</li>
<li><p>bug2：当点击小圆点跳转后，轮播会出现错误，<br>原因：当点击小圆点后，小圆点的index改变了，图片的index却还是点击前的值。小圆点和图片的index应该是一致的，所以我们需要在点击后小圆点后记录index值；<br>对应下面示例代码的155行，删掉之后就会出现bug：</p>
</li>
<li><p>bug3：当轮播了一圈后，第一个小圆点不会变色，<br>原因：图片有6张，小圆点只有5个。所以当播到最后一张图（第一张的克隆）时，直接让第一个小圆点点亮；<br>对应下面示例代码的179行，删掉之后就会出现bug：</p>
</li>
<li><p><code>(function(){})();</code>为自执行函数，主要用于隔离作用域</p>
<blockquote>
<ul>
<li>它可以帮你封装大量的工作而不会在背后遗留任何全局变量。</li>
<li>你定义的所有变量都会成员立即执行函数的局部变量，所以你不用担心这些临时变量会污染全局空间</li>
<li>可以使用这种技术可以模仿一个私有作用域，用匿名函数作为一个“容器”，“容器”内部可以访问外部的变量，而外部环境不能访问“容器”内部的变量</li>
<li>可以添加更多的加强模块，移除它们，单独测试它们，允许用户去禁用它们等等</li>
</ul>
</blockquote>
</li>
</ul>
<p><font size=4><strong>示例代码：</strong></font></p>
<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 样式部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">            list-style: none;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> &#123;</span></span><br><span class="line">            width: 500px;</span><br><span class="line">            height: 280px;</span><br><span class="line">            position: relative;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">            margin: 200px auto;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#ul</span> &#123;</span></span><br><span class="line">            width: 3000px;</span><br><span class="line">            position: absolute;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#ul</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">            display: block;</span><br><span class="line">            width: 500px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="comment">/* 左右箭头样式 */</span></span></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#arrow</span> &#123;</span></span><br><span class="line">            display: none;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#arrow</span> <span class="selector-id">#leftTap</span>,</span></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#arrow</span> <span class="selector-id">#rightTap</span> &#123;</span></span><br><span class="line">            width: 30px;</span><br><span class="line">            height: 60px;</span><br><span class="line">            position: absolute;</span><br><span class="line">            top: 50%;</span><br><span class="line">            transform: translateY(-50%);</span><br><span class="line">            text-decoration: none;</span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-tag">rgba</span>(255, 255, 2550, 0<span class="selector-class">.3</span>);</span></span><br><span class="line"><span class="css">            <span class="comment">/* 设置左右箭头，在其它地方看到的 */</span></span></span><br><span class="line">            text-align: center;</span><br><span class="line">            font: 700 24px/60px "宋体";</span><br><span class="line">            cursor: pointer;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#arrow</span> <span class="selector-id">#leftTap</span> &#123;</span></span><br><span class="line">            left: 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#arrow</span> <span class="selector-id">#rightTap</span> &#123;</span></span><br><span class="line">            right: 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="comment">/* 小圆点的样式 */</span></span></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#ul2</span> &#123;</span></span><br><span class="line">            width: 100px;</span><br><span class="line"><span class="css">            <span class="comment">/* 另装点小点的大盒子居中 */</span></span></span><br><span class="line">            position: absolute;</span><br><span class="line">            bottom: 14px;</span><br><span class="line">            left: 50%;</span><br><span class="line">            margin-left: -50px;</span><br><span class="line"><span class="css">            <span class="comment">/* 令小圆点横向排列并居中 */</span></span></span><br><span class="line">            display: grid;</span><br><span class="line">            grid-template-columns: repeat(5, 20%);</span><br><span class="line">            place-items: center;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#ul2</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line">            width: 10px;</span><br><span class="line">            height: 10px;</span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">            border-radius: 50%;</span><br><span class="line">            cursor: pointer;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#ul2</span> <span class="selector-tag">li</span><span class="selector-class">.active</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#58bc58</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--html 部分--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"ul"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic2.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic3.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic4.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic5.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"images/pic1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 左右箭头 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"arrow"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"leftTap"</span>&gt;</span><span class="symbol">&amp;lt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"rightTap"</span>&gt;</span><span class="symbol">&amp;gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 小圆点 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"ul2"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"active"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/utils.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        (<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(box);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> ul = <span class="built_in">document</span>.getElementById(<span class="string">'ul'</span>)</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> imgLis = ul.children;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> arrow = <span class="built_in">document</span>.getElementById(<span class="string">'arrow'</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> leftTap = <span class="built_in">document</span>.getElementById(<span class="string">"leftTap"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> rightTap = <span class="built_in">document</span>.getElementById(<span class="string">"rightTap"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> ul2 = <span class="built_in">document</span>.getElementById(<span class="string">'ul2'</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> lis = ul2.children;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 获取图片的宽度</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> imgWidth = box.offsetWidth;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> timer = <span class="literal">null</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 点击小圆点改变对应图片，通过小圆点的index值改变</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.length; i++) &#123;</span></span><br><span class="line">                lis[i].index = i;</span><br><span class="line"><span class="actionscript">                lis[i].onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 小圆点</span></span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">                        lis[i].className = <span class="string">""</span>;</span></span><br><span class="line">                    &#125;</span><br><span class="line"><span class="actionscript">                    <span class="keyword">this</span>.className = <span class="string">"active"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 下面这段是解决bug1</span></span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 当轮播了一圈回到第一张时，点击第一个小圆点，会出现反方向轮播一圈的bug</span></span></span><br><span class="line">                    if (index == imgLis.length - 1) &#123;</span><br><span class="line">                        index = 0;</span><br><span class="line">                        ul.style.left = 0;</span><br><span class="line">                    &#125;</span><br><span class="line"><span class="actionscript">                    <span class="comment">// 图片移动</span></span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">var</span> target = -<span class="keyword">this</span>.index * imgWidth;</span></span><br><span class="line">                    animate(ul, target, 40);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">                    <span class="comment">// bug2</span></span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 记录点击的小圆点的index值</span></span></span><br><span class="line"><span class="actionscript">                    index = <span class="keyword">this</span>.index;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 左右焦点轮播图</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> index = <span class="number">0</span>; <span class="comment">// 跑出去的张数</span></span></span><br><span class="line"><span class="actionscript">            rightTap.onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 当播到最后一张图时，换成第一张</span></span></span><br><span class="line">                if (index == imgLis.length - 1) &#123;</span><br><span class="line">                    index = 0;</span><br><span class="line">                    ul.style.left = 0;</span><br><span class="line">                &#125;</span><br><span class="line"><span class="actionscript">                <span class="comment">// 点击一次右箭头</span></span></span><br><span class="line">                index++;</span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> target = -index * imgWidth;</span></span><br><span class="line">                animate(ul, target, 40);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">                <span class="comment">// 利用图片的index值改变小圆点</span></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">                    lis[i].className = <span class="string">""</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="actionscript">                <span class="comment">// bug3</span></span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 当index == 最后一张图片的下标的时候，直接让第一个小圆点亮</span></span></span><br><span class="line">                if (index == imgLis.length - 1) &#123;</span><br><span class="line"><span class="actionscript">                    lis[<span class="number">0</span>].className = <span class="string">"active"</span>;</span></span><br><span class="line"><span class="actionscript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 否则其他的下标对应的小圆点高亮</span></span></span><br><span class="line"><span class="actionscript">                    lis[index].className = <span class="string">"active"</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="actionscript">            leftTap.onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 当向左移动到第一张时，换成最后一张</span></span></span><br><span class="line">                if (index == 0) &#123;</span><br><span class="line">                    index = imgLis.length - 1;</span><br><span class="line"><span class="actionscript">                    ul.style.left = -index * imgWidth + <span class="string">"px"</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="actionscript">                <span class="comment">// 点击一次左箭头</span></span></span><br><span class="line">                index--;</span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> target = -index * imgWidth;</span></span><br><span class="line">                animate(ul, target, 40);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">                    lis[i].className = <span class="string">""</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="actionscript">                lis[index].className = <span class="string">"active"</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 启动定时器，隔一段时间点击向右箭头</span></span></span><br><span class="line"><span class="actionscript">            timer = setInterval(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">                rightTap.onclick();</span><br><span class="line">            &#125;, 1500);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 给box绑定鼠标事件，经过时显示箭头，并清除定时器</span></span></span><br><span class="line"><span class="actionscript">            box.onmouseover = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                arrow.style.display = <span class="string">"block"</span>;</span></span><br><span class="line">                clearInterval(timer);</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 给box绑定鼠标事件，移出时隐藏箭头，重新开始定时器</span></span></span><br><span class="line"><span class="actionscript">            box.onmouseout = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                arrow.style.display = <span class="string">"none"</span>;</span></span><br><span class="line"><span class="actionscript">                timer = setInterval(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">                    rightTap.onclick();</span><br><span class="line">                &#125;, 1500);</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">        &#125;)()</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div>

<p><font size=3><strong>效果图：</strong></font><br><img src="https://s2.ax1x.com/2020/01/14/lbIJqs.gif" alt="lbIJqs.gif"></p>
<h4 id="复杂的动画函数"><a href="#复杂的动画函数" class="headerlink" title="复杂的动画函数"></a>复杂的动画函数</h4><p>前面介绍了一个简单的匀速直线运动动画，接下来我们换一个高级一点的<br><code>moveAnimation(obj, json, fn)</code><br><font size=4><strong>特点：</strong></font></p>
<ul>
<li>判断step的正负，为正的时候，向上取整。为负的时候，向下取整。保证到达终点不会有偏差</li>
<li>通过假设法<code>var flag</code>判断是否应该停止定时器</li>
<li>通过<code>for in</code>遍历对象的属性，可以同时改变多个属性</li>
<li>添加了回调函数，可以依次执行改变属性的动作</li>
<li>兼容<code>z-index</code>和<code>opacity</code>属性，具体可以参考 <a href="https://blog.doyoe.com/2014/01/21/css/%E4%BD%A0%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84z-index%E4%B8%96%E7%95%8C/" target="_blank">doyoe的博客</a><blockquote>
<ul>
<li>当opacity值小于1时，该元素会创建新的局部层叠上下文，也就是说它可以和定位元素进行层叠层别比较</li>
<li>当opacity值小于1时，该元素拥有层叠级别且相当于z-index:0或auto，但不能定义 z-index ，除非本身是定位元素</li>
</ul>
</blockquote>
</li>
</ul>
<p><font size=4><strong>示例代码：</strong></font></p>
<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVASCRIPT"><figure class="iseeu highlight /javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// （基本）完美的运动函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">moveAnimation</span>(<span class="params">obj, json, fn</span>) </span>&#123;</span><br><span class="line">    clearInterval(obj.timer);</span><br><span class="line">    obj.timer = setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">//判断是否停止定时器的条件，每隔30ms判断一次定时器是否应该停止</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> attr <span class="keyword">in</span> json) &#123;</span><br><span class="line">            <span class="keyword">var</span> current = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (attr == <span class="string">"opacity"</span>) &#123;</span><br><span class="line">                current = <span class="built_in">parseInt</span>(getStyle(obj, attr) * <span class="number">100</span>) || <span class="number">0</span>; <span class="comment">// 处理IE中opacity的兼容性</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                current = <span class="built_in">parseInt</span>(getStyle(obj, attr));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">var</span> step = (json[attr] - current) / <span class="number">10</span>;</span><br><span class="line">            step = step &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(step) : <span class="built_in">Math</span>.floor(step);</span><br><span class="line">            <span class="keyword">if</span> (attr == <span class="string">"opacity"</span>) &#123; <span class="comment">// 处理opacity的兼容性</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="string">"opacity"</span> <span class="keyword">in</span> obj.style) &#123;</span><br><span class="line">                    obj.style[attr] = (current + step) / <span class="number">100</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    obj.style.filter = <span class="string">"alpha(opacity="</span> + (current + step) + <span class="string">")"</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (attr == <span class="string">"zIndex"</span>) &#123;</span><br><span class="line">                obj.style[attr] = json[attr]; <span class="comment">// 处理z-index的兼容性</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                obj.style[attr] = current + step + <span class="string">"px"</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (current != json[attr]) &#123;</span><br><span class="line">                flag = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">            clearInterval(obj.timer);</span><br><span class="line">            <span class="keyword">if</span> (fn) &#123;</span><br><span class="line">                fn(); <span class="comment">// 定时器停止后执行回调函数，可以让一个动画结束后再执行下一个</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">30</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, attr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.currentStyle) &#123;</span><br><span class="line">        <span class="keyword">return</span> obj.currentStyle[attr];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">window</span>.getComputedStyle(obj, <span class="literal">null</span>)[attr];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p><font size=4><strong>使用例子：</strong></font></p>
<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#btn</span> &#123;</span></span><br><span class="line">            cursor: pointer;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> &#123;</span></span><br><span class="line">            width: 100px;</span><br><span class="line">            height: 100px;</span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#58bc58</span>;</span></span><br><span class="line">            position: absolute;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/utils.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">'btn'</span>)</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>)</span></span><br><span class="line">            </span><br><span class="line"><span class="actionscript">            btn.onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">                moveAnimation(box, &#123;</span><br><span class="line">                    top: 200,</span><br><span class="line">                    left: 200,</span><br><span class="line"><span class="actionscript">                &#125;, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">                    moveAnimation(box, &#123;</span><br><span class="line">                        width: 300,</span><br><span class="line">                        height: 150,</span><br><span class="line"><span class="actionscript">                    &#125;, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">                        moveAnimation(box, &#123;</span><br><span class="line">                            borderRadius: 50,</span><br><span class="line">                        &#125;)</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></div>
<p><font size=3><strong>效果图：</strong></font><br><img src="https://s2.ax1x.com/2020/01/14/lq93tO.gif" alt="lq93tO.gif"></p>
<h2 id="八、手风琴轮播图"><a href="#八、手风琴轮播图" class="headerlink" title="八、手风琴轮播图"></a>八、手风琴轮播图</h2><p>虽然不会自动播放，但是看起来也很像轮播图…效果如下：</p>
<ul>
<li>布局和前面的一样，但是图片改为了背景，因为这次移动的不是ul，而是li了。</li>
<li>首先给ul相对定位，里面的li添加绝对定位，于是所有的li堆叠到一起了，就变成了下图：</li>
</ul>
<p><img src="https://s2.ax1x.com/2020/01/14/lqNbkt.png" alt="lqNbkt.png"></p>
<ul>
<li>接着通过<code>left</code>让图片分开，如下图</li>
</ul>
<p><img src="https://s2.ax1x.com/2020/01/14/lqU04P.png" alt="lqU04P.png"></p>
<ul>
<li>要实现这样的效果<br><img src="https://s2.ax1x.com/2020/01/14/lq0zod.png" alt="lq0zod.png"><br>如上图，绿色的是大盒子的<code>margin-left</code>黄色的是li的<code>margin-left</code>，我们可以观察到：<br>设定一个left最小值40px（任意取），最大值310px（任意取）；设定<code>lis[i].index = i</code>，则第一张图index为0，第二张图index为1，以此类推；</li>
<li><strong>当我们把鼠标移到第三张图片上时：</strong><br>第一张图：left0 = 0px   &nbsp;&nbsp;= index * 40<br>第二张图：left1 = 40px  &nbsp;= index * 40<br>第三张图：left2 = 80px  &nbsp;= index * 40<br>第四张图：left3 = 430px = index * 40 + 310<br>第五张图：left4 = 470px = index * 40 +310<br>我们可以观察到以上规律，即：我们鼠标移动到<code>lis[i]</code>上，<code>lis[i]</code>本身及前面的图片left值为“index*40”，<code>lis[i]</code>后面的图片left值为“index * 40 + 310”。<br>有了这个规律，我们就可以写出示例，</li>
</ul>
<p><font size=4><strong>示例代码：</strong></font></p>
<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- css部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">            list-style: none;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> &#123;</span></span><br><span class="line">            width: 500px;</span><br><span class="line">            height: 280px;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">            margin: 200px auto;</span><br><span class="line">            position: relative;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line">            width: 500px;</span><br><span class="line">            height: 280px;</span><br><span class="line">            position: absolute;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-tag">li</span><span class="selector-pseudo">:nth-child(4)</span> &#123;</span></span><br><span class="line">            background-color: red;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--html部分--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- JavaScript部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/utils.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> lis = box.getElementsByTagName(<span class="string">'li'</span>);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.length; i++) &#123;</span></span><br><span class="line">            lis[i].index = i;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 动态给li添加背景图片</span></span></span><br><span class="line"><span class="javascript">            lis[i].style.background = <span class="string">`url(images/pic<span class="subst">$&#123;i+<span class="number">1</span>&#125;</span>.jpg) no-repeat`</span>;</span></span><br><span class="line"><span class="javascript">            lis[i].style.backgroundSize = <span class="string">`cover`</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 设置绝对定位后，li会堆叠在一起，设置left让他们分开</span></span></span><br><span class="line"><span class="actionscript">            lis[i].style.left = <span class="number">100</span> * i + <span class="string">"px"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 注册鼠标经过事件， 让当前的显示宽度为350， 其余的为40</span></span></span><br><span class="line"><span class="actionscript">            lis[i].onmouseover = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 目标li左边的li，left值为30*i</span></span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">if</span> (i &lt;= <span class="keyword">this</span>.index) &#123;</span></span><br><span class="line">                        moveAnimation(lis[i], &#123;</span><br><span class="line">                            left: 40 * i</span><br><span class="line">                        &#125;);</span><br><span class="line"><span class="actionscript">                        <span class="comment">// 目标li右边的li，left值为30*i+任意值</span></span></span><br><span class="line"><span class="actionscript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line">                        moveAnimation(lis[i], &#123;</span><br><span class="line">                            left: 40 * i + 310</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 鼠标离开后，恢复到"设置left让他们分开"的状态</span></span></span><br><span class="line"><span class="actionscript">            lis[i].onmouseout = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.length; i++) &#123;</span></span><br><span class="line">                    moveAnimation(lis[i], &#123;</span><br><span class="line">                        left: 100 * i</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div>
<p><font size=3><strong>效果图：</strong></font></p>
<p><img src="https://s2.ax1x.com/2020/01/14/lqsqtH.gif" alt="lqsqtH.gif"></p>
<h2 id="九、卡片式轮播图"><a href="#九、卡片式轮播图" class="headerlink" title="九、卡片式轮播图"></a>九、卡片式轮播图</h2><p>卡片式轮播图，原理与本文第五章的“左右切换轮播图”基本相同。但我也只是了解原理，没有深入研究优化，兼容等小bug啥的可能还有(⊙o⊙)…所以本章的代码也是最简单的那种…还有就是，这类轮播图一般会使中间的图片放大，以达到聚焦的效果，下次更新一定加上吧…</p>
<p><font size=4><strong>特点：</strong></font></p>
<ul>
<li>首先是结构，绿色框是可视区域，红色框是ul，ul里放着li；与之前不同的是,除了复制第一张到最后，还需要把最后两张复制到最前面，如下图</li>
</ul>
<p><img src="https://s2.ax1x.com/2020/01/14/lq7h36.png" alt="lq7h36.png"></p>
<ul>
<li>其他的基本一致，当播放到第二个绿色框时，重置ul的left值到第一个绿色框（即前面的：播放到最后一张时，偷偷换回第一张）</li>
</ul>
<p><font size=4><strong>示例代码：</strong></font></p>
<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- css部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">            list-style: none;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> &#123;</span></span><br><span class="line">            width: 1000px;</span><br><span class="line">            height: 280px;</span><br><span class="line">            position: relative;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">            margin: 200px auto;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line">            width: 4000px;</span><br><span class="line">            position: absolute;</span><br><span class="line">            left: -250px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-tag">ul</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">            display: block;</span><br><span class="line">            width: 500px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#arrow</span> &#123;</span></span><br><span class="line">            display: none;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#arrow</span> <span class="selector-id">#leftTap</span>,</span></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#arrow</span> <span class="selector-id">#rightTap</span> &#123;</span></span><br><span class="line">            width: 30px;</span><br><span class="line">            height: 60px;</span><br><span class="line">            position: absolute;</span><br><span class="line">            top: 50%;</span><br><span class="line">            transform: translateY(-50%);</span><br><span class="line">            text-decoration: none;</span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-tag">rgba</span>(255, 255, 2550, 0<span class="selector-class">.3</span>);</span></span><br><span class="line"><span class="css">            <span class="comment">/* 设置左右箭头，在其它地方看到的 */</span></span></span><br><span class="line">            text-align: center;</span><br><span class="line">            font: 700 24px/60px "宋体";</span><br><span class="line">            cursor: pointer;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#arrow</span> <span class="selector-id">#leftTap</span> &#123;</span></span><br><span class="line">            left: 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#box</span> <span class="selector-id">#arrow</span> <span class="selector-id">#rightTap</span> &#123;</span></span><br><span class="line">            right: 0;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- html 部分--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"ul"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/pic4.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/pic5.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/pic1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/pic2.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/pic3.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/pic4.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/pic5.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/pic1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"arrow"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"leftTap"</span>&gt;</span><span class="symbol">&amp;lt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"rightTap"</span>&gt;</span><span class="symbol">&amp;gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- js 部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/utils.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 获取元素</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ul = <span class="built_in">document</span>.getElementById(<span class="string">'ul'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> li = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'li'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> arrow = <span class="built_in">document</span>.getElementById(<span class="string">'arrow'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> leftArr = <span class="built_in">document</span>.getElementById(<span class="string">"leftTap"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> rightArr = <span class="built_in">document</span>.getElementById(<span class="string">"rightTap"</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 图片的宽度</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> picWidth = <span class="number">500</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// 给box绑定鼠标事件，经过时显示箭头，移开时隐藏箭头</span></span></span><br><span class="line"><span class="actionscript">        box.onmouseover = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            arrow.style.display = <span class="string">"block"</span>;</span></span><br><span class="line">        &#125;;</span><br><span class="line"><span class="actionscript">        box.onmouseout = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            arrow.style.display = <span class="string">"none"</span>;</span></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> index = <span class="number">0</span>;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 点击右箭头时，</span></span></span><br><span class="line"><span class="actionscript">        rightTap.onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 当向右移动到第二个绿色框时，换成第一个框</span></span></span><br><span class="line">            if (index == li.length - 3) &#123;</span><br><span class="line">                index = 0;</span><br><span class="line"><span class="actionscript">                ul.style.left = <span class="number">-250</span> + <span class="string">"px"</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">            index++;</span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> target = -index * picWidth - <span class="number">250</span>;</span></span><br><span class="line">            animate(ul, target, 20);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        leftTap.onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 当向左移动到第一个绿色框时，换成第二个框</span></span></span><br><span class="line">            if (index == 0) &#123;</span><br><span class="line">                index = li.length - 3;</span><br><span class="line"><span class="actionscript">                ul.style.left = -index * picWidth - <span class="number">250</span> + <span class="string">"px"</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">            index--;</span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> target = -index * picWidth - <span class="number">250</span>;</span></span><br><span class="line">            animate(ul, target, 20);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        timer = setInterval(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">            rightTap.onclick();</span><br><span class="line">        &#125;, 1000);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div>
<p><font size=3><strong>效果图：</strong></font></p>
<p><img src="https://s2.ax1x.com/2020/01/14/lqqGnO.gif" alt="lqqGnO.gif"></p>
<h2 id="十、旋转木马式轮播图"><a href="#十、旋转木马式轮播图" class="headerlink" title="十、旋转木马式轮播图"></a>十、旋转木马式轮播图</h2><p>其实我还没怎么看，看起来还挺炫的，但是哪里能用得上啊…这么大一块(⊙o⊙)<br><font size=4><strong>特点：</strong></font></p>
<ul>
<li>结构与前面的“完整轮播图相似”，主要是用到本文第七章-第二小节的“复杂运动函数”，可以同时改变位置和透明度</li>
<li>先将上面的每个参数以对象的方式存到数组datas中</li>
<li>点击右按钮的时候，将datas里的最后一项利用pop删除掉，通过return获取这个删除的数据，再将这个数据unshift到数组的最前面。重新遍历数组，执行一遍动画</li>
<li>点击左箭头的时候，将datas里的最前面一项利用shift删除掉，通过return获取这个删除的数据，再将这个数据push到数组的最后面。重新遍历数组，执行一遍动画</li>
<li><code>var flag = true;</code>这判断相当于一个节流阀，加上之后，点一次按钮，图片的动画执行完才可以再次点击。</li>
</ul>
<p><font size=4><strong>示例代码：</strong></font></p>
<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- css部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">            list-style: none;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span> &#123;</span></span><br><span class="line">            width: 1200px;</span><br><span class="line">            margin: 200px auto;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box1</span> &#123;</span></span><br><span class="line">            height: 340px;</span><br><span class="line">            position: relative;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box1</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line">            position: absolute;</span><br><span class="line">            left: 200px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        img &#123;</span><br><span class="line">            width: 100%;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.arrow</span> &#123;</span></span><br><span class="line">            opacity: 0;</span><br><span class="line">            position: relative;</span><br><span class="line">            z-index: 99;</span><br><span class="line">            top: 50%;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.arrow</span> <span class="selector-id">#left</span>,</span></span><br><span class="line"><span class="css">        <span class="selector-class">.arrow</span> <span class="selector-id">#right</span> &#123;</span></span><br><span class="line">            width: 40px;</span><br><span class="line">            height: 60px;</span><br><span class="line">            position: absolute;</span><br><span class="line">            top: 50%;</span><br><span class="line">            margin-top: -45px;</span><br><span class="line">            background-size: cover;</span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#58bc58</span>;</span></span><br><span class="line">            text-align: center;</span><br><span class="line">            font: 100 24px/60px "宋体";</span><br><span class="line">            cursor: pointer;</span><br><span class="line">            color: white;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.arrow</span> <span class="selector-id">#right</span> &#123;</span></span><br><span class="line">            right: 0;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- html部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box1"</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/pic1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/pic2.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/pic3.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/pic4.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/pic5.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"arrow"</span> <span class="attr">id</span>=<span class="string">"arrow"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"left"</span>&gt;</span><span class="symbol">&amp;lt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"right"</span>&gt;</span><span class="symbol">&amp;gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- js部分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/utils.js"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 图片的位置与透明度等信息，存放在一个数组中</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> datas = [&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="string">"width"</span>: <span class="number">300</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"top"</span>: <span class="number">-20</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"left"</span>: <span class="number">150</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"opacity"</span>: <span class="number">20</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"zIndex"</span>: <span class="number">2</span></span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line"><span class="actionscript">                <span class="string">"width"</span>: <span class="number">500</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"top"</span>: <span class="number">30</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"left"</span>: <span class="number">50</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"opacity"</span>: <span class="number">80</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"zIndex"</span>: <span class="number">3</span></span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line"><span class="actionscript">                <span class="string">"width"</span>: <span class="number">600</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"top"</span>: <span class="number">100</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"left"</span>: <span class="number">300</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"opacity"</span>: <span class="number">100</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"zIndex"</span>: <span class="number">4</span></span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line"><span class="actionscript">                <span class="string">"width"</span>: <span class="number">500</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"top"</span>: <span class="number">30</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"left"</span>: <span class="number">650</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"opacity"</span>: <span class="number">80</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"zIndex"</span>: <span class="number">3</span></span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line"><span class="actionscript">                <span class="string">"width"</span>: <span class="number">300</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"top"</span>: <span class="number">-20</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"left"</span>: <span class="number">750</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"opacity"</span>: <span class="number">20</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"zIndex"</span>: <span class="number">2</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        ];</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">'box1'</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> lis = box1.getElementsByTagName(<span class="string">'li'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> arrow = <span class="built_in">document</span>.getElementById(<span class="string">'arrow'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> left = <span class="built_in">document</span>.getElementById(<span class="string">'left'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> right = <span class="built_in">document</span>.getElementById(<span class="string">'right'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// 节流阀，用来防止多次点击</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> flag = <span class="literal">true</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// 将datas里的数据 动态添加进去</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.length; i++) &#123;</span></span><br><span class="line">            moveAnimation(lis[i], datas[i]);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// 点击右箭头的时候</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 利用数组的pop 和 unshift方法对数组datas进行操作</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// pop 会删除数组的最后一项，并且返回这一项。 unshift 会在数组的最前添加</span></span></span><br><span class="line"><span class="actionscript">        right.onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"></span><br><span class="line">            if (flag) &#123;</span><br><span class="line"><span class="actionscript">                <span class="comment">// 令flag = false，再次点击的时候就不会进来</span></span></span><br><span class="line"><span class="actionscript">                flag = <span class="literal">false</span>;</span></span><br><span class="line">                datas.unshift(datas.pop());</span><br><span class="line"><span class="actionscript">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 点击一次就执行一次动画，即改变以下的值</span></span></span><br><span class="line">                    /*</span><br><span class="line">                        &#123;</span><br><span class="line"><span class="actionscript">                            <span class="string">"width"</span>: <span class="number">300</span>,</span></span><br><span class="line"><span class="actionscript">                            <span class="string">"top"</span>: <span class="number">-20</span>,</span></span><br><span class="line"><span class="actionscript">                            <span class="string">"left"</span>: <span class="number">150</span>,</span></span><br><span class="line"><span class="actionscript">                            <span class="string">"opacity"</span>: <span class="number">20</span>,</span></span><br><span class="line"><span class="actionscript">                            <span class="string">"zIndex"</span>: <span class="number">2</span></span></span><br><span class="line">                        &#125;</span><br><span class="line">                    */</span><br><span class="line"><span class="actionscript">                    moveAnimation(lis[i], datas[i], <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                        <span class="comment">// 当动画执行完，也就是回调函数触发的时候，再将节流阀打开，这样就可以继续点击了</span></span></span><br><span class="line"><span class="actionscript">                        flag = <span class="literal">true</span>;</span></span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// 点击左箭头</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 利用数组的 shift 和 push方法对数组datas进行操作</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// shift 会删除数组的第一项，并且返回这一项。 push 会在数组的最后添加</span></span></span><br><span class="line"><span class="actionscript">        left.onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">            if (flag) &#123;</span><br><span class="line"><span class="actionscript">                flag = <span class="literal">false</span>;</span></span><br><span class="line">                datas.push(datas.shift());</span><br><span class="line"><span class="actionscript">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">                    moveAnimation(lis[i], datas[i], <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                        flag = <span class="literal">true</span>;</span></span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// 鼠标经过的时候 箭头显示</span></span></span><br><span class="line"><span class="actionscript">        box1.onmouseover = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">            moveAnimation(arrow, &#123;</span><br><span class="line">                opacity: 100</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// 鼠标离开的时候 箭头隐藏</span></span></span><br><span class="line"><span class="actionscript">        box1.onmouseout = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">            moveAnimation(arrow, &#123;</span><br><span class="line">                opacity: 0</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></div>
<p><font size=3><strong>效果图：</strong></font></p>
<p><img src="https://s2.ax1x.com/2020/01/14/lLSr7V.gif" alt="lLSr7V.gif"></p>
<h2 id="十一、总结"><a href="#十一、总结" class="headerlink" title="十一、总结"></a>十一、总结</h2><p>轮播图说难也不难，说简单也不简单，但是确实包含了很多JavaScript的基础知识，所以第一篇就写的这个了。但还是有很多点没有研究透彻，这个博客也有很多地方需要优化，下次再接再厉吧！<br><strong><center><font size=5>最后，感谢您的阅读！</font></center></strong></p>
<p><img src="https://s2.ax1x.com/2020/01/14/lL9IJO.png" alt="lL9IJO.png"></p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/hhh.github.io/2020/01/09/%E7%AC%AC%E4%B8%80%E7%AF%87/" rel="prev" title="《你好，吃了吗》">
      <i class="fa fa-chevron-left"></i> 《你好，吃了吗》
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、前言"><span class="nav-number">1.</span> <span class="nav-text">一、前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、直接切换的轮播图"><span class="nav-number">2.</span> <span class="nav-text">二、直接切换的轮播图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、改变left值的轮播图"><span class="nav-number">3.</span> <span class="nav-text">三、改变left值的轮播图</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#轮播图的基本原理"><span class="nav-number">3.1.</span> <span class="nav-text">轮播图的基本原理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四、使用动画函数的轮播图"><span class="nav-number">4.</span> <span class="nav-text">四、使用动画函数的轮播图</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#JS中的动画函数"><span class="nav-number">4.1.</span> <span class="nav-text">JS中的动画函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#匀速运动函数"><span class="nav-number">4.1.1.</span> <span class="nav-text">匀速运动函数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#五、左右切换的轮播图"><span class="nav-number">5.</span> <span class="nav-text">五、左右切换的轮播图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#六、小圆点切换的轮播图"><span class="nav-number">6.</span> <span class="nav-text">六、小圆点切换的轮播图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#七、完整版轮播图"><span class="nav-number">7.</span> <span class="nav-text">七、完整版轮播图</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#特点："><span class="nav-number">7.0.1.</span> <span class="nav-text">特点：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#复杂的动画函数"><span class="nav-number">7.0.2.</span> <span class="nav-text">复杂的动画函数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#八、手风琴轮播图"><span class="nav-number">8.</span> <span class="nav-text">八、手风琴轮播图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#九、卡片式轮播图"><span class="nav-number">9.</span> <span class="nav-text">九、卡片式轮播图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十、旋转木马式轮播图"><span class="nav-number">10.</span> <span class="nav-text">十、旋转木马式轮播图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十一、总结"><span class="nav-number">11.</span> <span class="nav-text">十一、总结</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="浩华好哇"
      src="/hhh.github.io/images/%E5%A4%B4%E5%83%8F.jpg">
  <p class="site-author-name" itemprop="name">浩华好哇</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/hhh.github.io/archives">
          <span class="site-state-item-count">2</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/hhh.github.io/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>

    <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=3&id=910200122&auto=1&height=66"></iframe>
  </aside>
  
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">浩华好哇</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="站点总字数">32k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">57 分钟</span>
</div>

<!--
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div>-->

<!--
  <span class="post-meta-divider">|</span>-->

<!--
  <div class="theme-info">主题 – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.7.0
  </div>-->

        








      </div>
    </footer>
  </div>

  
  <script src="/hhh.github.io/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>
  <script src="/hhh.github.io/lib/velocity/velocity.min.js"></script>
  <script src="/hhh.github.io/lib/velocity/velocity.ui.min.js"></script>

<script src="/hhh.github.io/js/utils.js"></script>

<script src="/hhh.github.io/js/motion.js"></script>


<script src="/hhh.github.io/js/schemes/pisces.js"></script>


<script src="/hhh.github.io/js/next-boot.js"></script>




  















  

  


  <script id="ribbon" size="400" alpha='0.3' zIndex="-2" src="js/canvas_ribbon.js"></script>
  <script id="ribbon" size="400" alpha='0.3' zIndex="-2" src="../js/canvas_ribbon.js"></script>

  <script src="https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget/autoload.js"></script>
  
  <!-- 点击爱心 -->
  <script src="js/clicklove.js"></script>
  <script src="../js/clicklove.js"></script>
</html>
